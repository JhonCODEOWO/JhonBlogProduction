import{A as U1,B as e1,C as a1,D as W1,E as B1,F as G1,a as _1,b as y1,c as w1,d as A1,e as k1,f as _,g as T1,h as P1,i as $,j as D1,k as y,l as j,m as r1,n as L,o as w,p as b,q as U,r as W,s as Z,t as q,u as B,v as F,w as G,x as R1,y as c1,z as j1}from"./chunk-Y2IUSJNQ.js";import{Bb as T,Cb as Q,Da as I,Eb as V1,Fb as L1,Ga as l,Ha as h,Ia as M1,J as h1,Ka as u1,M as P,Ma as b1,N as X,Oa as H1,R as E,S as p1,W as u,Wa as z,X as K,Ya as m,Z as v1,ab as t,bb as o,bc as g1,ca as C,cb as p,da as d,gb as A,ja as C1,jb as N,jc as N1,kb as f,kc as S,mc as S1,qa as d1,rb as D,sb as r,tb as k,ub as R,uc as Z1,vb as x1,vc as q1,wb as H,xb as x,xc as F1,yb as V,yc as E1,zc as I1}from"./chunk-TJZ46FM3.js";import"./chunk-6MDQTQU3.js";var O1=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=u({type:e,selectors:[["app-main"]],decls:1,vars:0,consts:[[1,"min-h-screen"]],template:function(i,a){i&1&&p(0,"div",0)}})}return e})();var l2=()=>["/createacount"];function r2(e,n){if(e&1&&(t(0,"p",18),r(1),o()),e&2){let c=f();l(),k(c.message)}}function s2(e,n){e&1&&(t(0,"p"),r(1,"Coloca un correo electr\xF3nico para proceder"),o())}function m2(e,n){e&1&&(t(0,"p"),r(1,"Coloca una contrase\xF1a para proceder"),o())}var J1=(()=>{class e{toastService;loginService;router;csrf;constructor(c,i,a,s){this.toastService=c,this.loginService=i,this.router=a,this.csrf=s}email;password;message="";permanent_session=!1;ngOnInit(){}login(){this.validarDatos()?this.loginService.login(this.email,this.password).subscribe({next:c=>{"name"in c?(this.loginService.setUser(c),this.loginService.setPermissions(c),this.csrf.getCsrfToken(),this.message="",this.router.navigate(["/"])):this.message=c.message},error:c=>{this.toastService.error("Ha ocurrido un error al realizar la solicitud con el servidor para el login: "+c.status)}}):this.toastService.error("No se puede iniciar sesi\xF3n si no has colocado todos los datos")}onSubmit(c){if(!c.valid){this.toastService.error("No se puede realizar la operaci\xF3n, no has ingresado los datos requeridos");return}this.login()}validarDatos(){return!(this.email==""||this.password==""||!this.email||!this.password)}applyPermanentSession(){this.permanent_session?this.permanent_session=!1:this.permanent_session=!0}static \u0275fac=function(i){return new(i||e)(h(_),h(b),h(y),h(w))};static \u0275cmp=u({type:e,selectors:[["app-login"]],decls:28,vars:8,consts:[["FLogin","ngForm"],[1,"flex","justify-center","mt-8","mb-8"],["action","",1,"bg-slate-500","dark:bg-neutral-800","text-black","dark:text-white","p-8","w-2/5",3,"ngSubmit"],[1,"font-black","text-4xl"],["class","text-red-500",4,"ngIf"],[1,"mt-3","flex","flex-col","gap-y-3","font-light","text-lg"],[1,"flex","flex-col"],["for","email"],["type","email","required","","id","email","name","email",1,"focus:outline-none","bg-slate-300","dark:bg-neutral-700","p-1",3,"ngModelChange","ngModel"],[4,"ngIf"],["for","password"],["type","password","required","","id","password","name","password",1,"focus:outline-none","bg-slate-300","dark:bg-neutral-700","p-1",3,"ngModelChange","ngModel"],[1,"flex","justify-between","mt-3","underline"],[3,"routerLink"],["type","submit",1,"mt-8","w-full","bg-sky-400","dark:bg-blue-600","p-3","disabled:bg-blue-950","disabled:line-through",3,"disabled"],[1,"flex","flex-row-reverse","items-center","gap-x-3","mt-3"],["type","checkbox","name","permanent_session","id","permanent_session",3,"click"],["for",""],[1,"text-red-500"]],template:function(i,a){if(i&1){let s=A();t(0,"div",1)(1,"form",2,0),N("ngSubmit",function(){C(s);let M=D(2);return d(a.onSubmit(M))}),t(3,"h2",3),r(4,"Inicio de sesi\xF3n"),o(),z(5,r2,2,1,"p",4),t(6,"div",5)(7,"div",6)(8,"label",7),r(9,"Email:"),o(),t(10,"input",8),V("ngModelChange",function(M){return C(s),x(a.email,M)||(a.email=M),d(M)}),o(),z(11,s2,2,0,"p",9),o(),t(12,"div",6)(13,"label",10),r(14,"Contrase\xF1a:"),o(),t(15,"input",11),V("ngModelChange",function(M){return C(s),x(a.password,M)||(a.password=M),d(M)}),o(),z(16,m2,2,0,"p",9),o()(),t(17,"div",12)(18,"a"),r(19,"\xBFOlvidaste tu contrase\xF1a?"),o(),t(20,"a",13),r(21,"Crear cuenta nueva"),o()(),t(22,"button",14),r(23,"Iniciar sesi\xF3n"),o(),t(24,"div",15)(25,"input",16),N("click",function(){return C(s),d(a.applyPermanentSession())}),o(),t(26,"label",17),r(27,"\xBFMantener sesi\xF3n abierta?"),o()()()()}i&2&&(l(5),m("ngIf",a.message!=""),l(5),H("ngModel",a.email),l(),m("ngIf",a.email==""),l(4),H("ngModel",a.password),l(),m("ngIf",a.password==""),l(4),m("routerLink",T(7,l2)),l(2),m("disabled",!a.validarDatos()))},dependencies:[S,j,F,U,W,Z,G,B,q]})}return e})();var Y=(()=>{class e{loginService;router;constructor(c,i){this.loginService=c,this.router=i}canActivate(c,i){return this.loginService.isAutenticated()?!0:(this.router.navigate(["login"]),!1)}static \u0275fac=function(i){return new(i||e)(E(b),E(y))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function z2(e,n){e&1&&(t(0,"p",18),r(1,"Coloca un nombre para la cuenta (Este nombre no ser\xE1 p\xFAblico)"),o())}function h2(e,n){if(e&1&&(t(0,"p",20),r(1),o()),e&2){let c=n.$implicit;l(),R(" ",c,"")}}function p2(e,n){if(e&1&&(t(0,"div"),z(1,h2,2,1,"p",19),o()),e&2){let c=f(2);l(),m("ngForOf",c.errors.name)}}function v2(e,n){e&1&&(t(0,"p",18),r(1,"Coloca un correo electr\xF3nico para proceder"),o())}function C2(e,n){if(e&1&&(t(0,"p",20),r(1),o()),e&2){let c=n.$implicit;l(),R(" ",c,"")}}function d2(e,n){if(e&1&&(t(0,"div"),z(1,C2,2,1,"p",19),o()),e&2){let c=f(2);l(),m("ngForOf",c.errors.email)}}function M2(e,n){e&1&&(t(0,"p",18),r(1,"Coloca una contrase\xF1a para proceder"),o())}function u2(e,n){if(e&1&&(t(0,"p",20),r(1),o()),e&2){let c=n.$implicit;l(),R(" ",c,"")}}function b2(e,n){if(e&1&&(t(0,"div"),z(1,u2,2,1,"p",19),o()),e&2){let c=f(2);l(),m("ngForOf",c.errors.password)}}function H2(e,n){e&1&&(t(0,"p",18),r(1,"Repite la contrase\xF1a que has asignado anteriormente"),o())}function x2(e,n){e&1&&(t(0,"p",18),r(1,"Las contrase\xF1as no coinciden"),o())}function V2(e,n){e&1&&(t(0,"button",21),r(1,"Crear cuenta"),o())}function L2(e,n){if(e&1){let c=A();t(0,"form",3,0),N("ngSubmit",function(){C(c);let a=D(1),s=f();return d(s.onSubmit(a))}),t(2,"h2",4),r(3,"Crear cuenta"),o(),t(4,"p"),r(5,"Asegurate de llenar todos los campos para poder proceder"),o(),t(6,"div",5)(7,"div",6)(8,"label",7),r(9,"Nombre o alias para la cuenta:"),o(),t(10,"input",8),V("ngModelChange",function(a){C(c);let s=f();return x(s.name,a)||(s.name=a),d(a)}),o(),z(11,z2,2,0,"p",9)(12,p2,2,1,"div",10),o(),t(13,"div",6)(14,"label",11),r(15,"Email:"),o(),t(16,"input",12),V("ngModelChange",function(a){C(c);let s=f();return x(s.email,a)||(s.email=a),d(a)}),o(),z(17,v2,2,0,"p",9)(18,d2,2,1,"div",10),o(),t(19,"div",6)(20,"label",13),r(21,"Contrase\xF1a:"),o(),t(22,"input",14),V("ngModelChange",function(a){C(c);let s=f();return x(s.password,a)||(s.password=a),d(a)}),o(),z(23,M2,2,0,"p",9)(24,b2,2,1,"div",10),o(),t(25,"div",6)(26,"label",15),r(27,"Repite la contrase\xF1a:"),o(),t(28,"input",16),V("ngModelChange",function(a){C(c);let s=f();return x(s.password_confirmation,a)||(s.password_confirmation=a),d(a)}),o(),z(29,H2,2,0,"p",9)(30,x2,2,0,"p",9),o()(),z(31,V2,2,0,"button",17),o()}if(e&2){let c=f();l(10),H("ngModel",c.name),l(),m("ngIf",c.name==""),l(),m("ngIf",c.errors.name),l(4),H("ngModel",c.email),l(),m("ngIf",c.email==""),l(),m("ngIf",c.errors.email),l(4),H("ngModel",c.password),l(),m("ngIf",c.password==""),l(),m("ngIf",c.errors.password),l(4),H("ngModel",c.password_confirmation),l(),m("ngIf",c.password_confirmation==""),l(),m("ngIf",c.password!=c.password_confirmation),l(),m("ngIf",c.validarDatos())}}var Y1=(()=>{class e{userService;toastService;router;constructor(c,i,a){this.userService=c,this.toastService=i,this.router=a}creatingAcount=!0;email;password;name;password_confirmation;errors=[];onSubmit(c){return c.valid?(this.createUser(),!0):!1}createUser(){this.userService.addUser(this.name,this.email,this.password).subscribe({next:c=>{c.status=="ok"?this.router.navigate(["/login"]):this.toastService.error(c.message)},error:c=>{c.status==422&&(this.errors=c.error.errors,setTimeout(()=>{this.errors=[]},5e3))}})}validarDatos(){return!!(this.email&&this.password&&this.name&&this.password_confirmation!=""&&this.password==this.password_confirmation)}static \u0275fac=function(i){return new(i||e)(h(e1),h(_),h(y))};static \u0275cmp=u({type:e,selectors:[["app-createacount"]],decls:2,vars:1,consts:[["FCreate","ngForm"],[1,"flex","justify-center","mt-8"],["action","","class","bg-slate-500 dark:bg-neutral-800 text-black dark:text-white p-8 w-2/5 overflow-auto","style","height: 30rem;",3,"ngSubmit",4,"ngIf"],["action","",1,"bg-slate-500","dark:bg-neutral-800","text-black","dark:text-white","p-8","w-2/5","overflow-auto",2,"height","30rem",3,"ngSubmit"],[1,"font-black","text-4xl"],[1,"mt-3","flex","flex-col","gap-y-3","font-light","text-lg"],[1,"flex","flex-col"],["for","name"],["type","text","required","","id","name","name","name",1,"focus:outline-none","bg-slate-300","dark:bg-neutral-700","p-1",3,"ngModelChange","ngModel"],["class","text-sm font-normal",4,"ngIf"],[4,"ngIf"],["for","email"],["type","email","required","","id","email","name","email",1,"focus:outline-none","bg-slate-300","dark:bg-neutral-700","p-1",3,"ngModelChange","ngModel"],["for","password"],["type","password","required","","id","password","name","password",1,"focus:outline-none","bg-slate-300","dark:bg-neutral-700","p-1",3,"ngModelChange","ngModel"],["for","password_confirmation"],["type","password","required","","id","password_confirmation","name","password_confirmation",1,"focus:outline-none","bg-slate-300","dark:bg-neutral-700","p-1",3,"ngModelChange","ngModel"],["type","submit","class","mt-3 p-3 bg-blue-800",4,"ngIf"],[1,"text-sm","font-normal"],["class","text-sm font-normal text-yellow-400",4,"ngFor","ngForOf"],[1,"text-sm","font-normal","text-yellow-400"],["type","submit",1,"mt-3","p-3","bg-blue-800"]],template:function(i,a){i&1&&(t(0,"div",1),z(1,L2,32,13,"form",2),o()),i&2&&(l(),m("ngIf",a.creatingAcount))},dependencies:[N1,S,F,U,W,Z,G,B,q]})}return e})();var t1=class{id;name;last_name;profile_photo;biography;user=null;created_at;updated_at;constructor(n=null,c=null,i=null,a=null,s=null,v=null,M=null,l1=null){this.id=n,this.name=c,this.last_name=i,this.profile_photo=a,this.biography=s,this.created_at=v,this.updated_at=M,this.user=l1}};var n1=(()=>{class e{httpClient;csrf;loginService;constructor(c,i,a){this.httpClient=c,this.csrf=i,this.loginService=a}url=`${L.api_url}/profile`;createProfile(c,i){let a=new FormData,s=this.loginService.userLogged.getValue()?.id;i&&s&&(a.append("name",c.name??""),a.append("last_name",c.last_name??""),a.append("biography",c.biography??""),a.append("profile_photo",i??""),a.append("user_id",s.toString()));let v={"X-CSRF-TOKEN":this.csrf.tokenActual};return this.httpClient.post(`${this.url}/create`,a,{headers:v})}modifyProfile(c,i=null){let a={"X-CSRF-TOKEN":this.csrf.tokenActual},s=new FormData,v=this.loginService.userLogged.getValue()?.id;return s.append("_method","PUT"),v&&(s.append("name",c.name??""),s.append("last_name",c.last_name??""),s.append("biography",c.biography??""),i&&s.append("profile_photo",i),s.append("user_id",v.toString())),console.log(s),this.httpClient.post(`${this.url}/${c.id}/modify`,s,{headers:a})}static \u0275fac=function(i){return new(i||e)(E(_1),E(w),E(b))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function N2(e,n){if(e&1&&(t(0,"div",21)(1,"label"),r(2,"Imagen actual de perfil"),o(),p(3,"img",10),o()),e&2){let c=f(2);l(3),m("src",c.getResourceFromServer(c.profile.profile_photo),I)}}function S2(e,n){e&1&&(t(0,"span"),r(1,"(No obligatorio)"),o())}function _2(e,n){e&1&&(t(0,"p",22),r(1,"Coloca un nombre para la cuenta (Este nombre no ser\xE1 p\xFAblico)"),o())}function y2(e,n){e&1&&(t(0,"p",22),r(1,"Coloca un nombre para la cuenta (Este nombre no ser\xE1 p\xFAblico)"),o())}function w2(e,n){e&1&&(t(0,"p",22),r(1,"Coloca un nombre para la cuenta (Este nombre no ser\xE1 p\xFAblico)"),o())}function A2(e,n){e&1&&(t(0,"button",23),r(1,"Crear cuenta"),o())}function k2(e,n){e&1&&(t(0,"button",24),r(1,"Modificar datos"),o())}function Z2(e,n){if(e&1){let c=A();t(0,"form",4,0),N("ngSubmit",function(){C(c);let a=D(1),s=f();return d(s.onSubmit(a))}),t(2,"h2",5),r(3),o(),t(4,"p"),r(5,"Los datos ingresados aqu\xED ser\xE1n p\xFAblicos."),o(),t(6,"div",6),z(7,N2,4,1,"div",7),t(8,"div",8)(9,"label",9),r(10,"Foto de perfil "),z(11,S2,2,0,"span",3),o(),p(12,"img",10),t(13,"input",11),N("change",function(a){C(c);let s=f();return d(s.onFileSelected(a))}),o()(),t(14,"div",8)(15,"label",12),r(16,"Nombre:"),o(),t(17,"input",13),V("ngModelChange",function(a){C(c);let s=f();return x(s.profile.name,a)||(s.profile.name=a),d(a)}),o(),z(18,_2,2,0,"p",14),o(),t(19,"div",8)(20,"label",15),r(21,"Apellidos:"),o(),t(22,"input",16),V("ngModelChange",function(a){C(c);let s=f();return x(s.profile.last_name,a)||(s.profile.last_name=a),d(a)}),o(),z(23,y2,2,0,"p",14),o(),t(24,"div",8)(25,"label",17),r(26,"Escribe una peque\xF1a biograf\xEDa sobre ti:"),o(),t(27,"textarea",18),V("ngModelChange",function(a){C(c);let s=f();return x(s.profile.biography,a)||(s.profile.biography=a),d(a)}),o(),z(28,w2,2,0,"p",14),o()(),z(29,A2,2,0,"button",19)(30,k2,2,0,"button",20),o()}if(e&2){let c=f();l(3),k(c.title),l(4),m("ngIf",c.editing),l(4),m("ngIf",c.editing),l(),m("src",c.imagen_url,I),l(5),H("ngModel",c.profile.name),l(),m("ngIf",c.profile.name==""),l(4),H("ngModel",c.profile.last_name),l(),m("ngIf",c.profile.last_name==""),l(4),H("ngModel",c.profile.biography),l(),m("ngIf",c.profile.biography==""),l(),m("ngIf",c.validarDatosOnCreate()&&c.editing==!1),l(),m("ngIf",c.validarDatosOnEdit()&&c.editing==!0)}}function q2(e,n){e&1&&(t(0,"div")(1,"p"),r(2,"El usuario no se ha podido encontrar"),o()())}var f1=(()=>{class e{profileService;toastService;router;route;loginService;constructor(c,i,a,s,v){this.profileService=c,this.toastService=i,this.router=a,this.route=s,this.loginService=v}title="Crear perfil para la cuenta";profile=null;imagen_perfil=null;imagen_url=null;errors=[];editing=!1;ngOnInit(){if(this.route.snapshot.params.id){let i=this.loginService.userLogged.getValue();i&&(this.title="Modificando perfil",this.profile=i.profile,this.editing=!0)}else this.profile=new t1}onSubmit(c){if(c.valid){switch(this.editing){case!1:this.createProfile();break;case!0:this.editProfile();break;default:break}return!0}return!1}onFileSelected(c){let a=c.currentTarget.files;if(a){this.imagen_perfil=a[0];let s=new FileReader;s.onload=()=>{this.imagen_url=s.result},s.readAsDataURL(a[0])}}validarDatosOnCreate(){return!!(this.profile&&this.profile.name&&this.profile.biography&&this.profile.last_name!=""&&this.imagen_perfil!=null)}validarDatosOnEdit(){return!!(this.profile&&this.profile.name&&this.profile.biography&&this.profile.last_name!="")}createProfile(){this.imagen_perfil&&this.profile?this.profileService.createProfile(this.profile,this.imagen_perfil).subscribe({next:c=>{"status"in c?this.toastService.error(c.message):(this.loginService.setProfile(c),this.router.navigate([""]))},error:c=>{switch(c.status){case 422:break;case 403:this.toastService.error("No se tiene el permiso para realizar la petici\xF3n");break;default:break}}}):this.toastService.warning("No se puede proceder, selecciona una imagen de perfil")}editProfile(){this.profile&&this.profileService.modifyProfile(this.profile,this.imagen_perfil).subscribe({next:c=>{"status"in c?this.toastService.success(`Ha ocurrido un error mientras se realizaba la solicitud ${c.message}`):(this.loginService.setProfile(c),this.router.navigate([""]))},error:c=>{this.toastService.error(`Ha ocurrido un error al procesar la solicitud ${c.status}`)}})}getResourceFromServer(c){if(c){let i=L.getUrlServer();return L.getUrlResourceFromServer(i,c)}return""}static \u0275fac=function(i){return new(i||e)(h(n1),h(_),h(y),h($),h(b))};static \u0275cmp=u({type:e,selectors:[["app-createprofile"]],decls:3,vars:2,consts:[["FProfile","ngForm"],[1,"flex","justify-center","mt-8","mb-8"],["action","","class","bg-slate-500 dark:bg-neutral-800 text-black dark:text-white p-8 w-2/5 overflow-auto","style","height: 30rem;",3,"ngSubmit",4,"ngIf"],[4,"ngIf"],["action","",1,"bg-slate-500","dark:bg-neutral-800","text-black","dark:text-white","p-8","w-2/5","overflow-auto",2,"height","30rem",3,"ngSubmit"],[1,"font-black","text-4xl"],[1,"mt-3","flex","flex-col","gap-y-3","font-light","text-lg"],["class","flex flex-col text-center",4,"ngIf"],[1,"flex","flex-col"],["for","imagen_perfil"],["alt","",1,"rounded-full","w-36",3,"src"],["type","file","name","imagen_perfil","id","imagen_perfil","required","",3,"change"],["for","name"],["type","text","required","","id","name","name","name",1,"focus:outline-none","bg-slate-300","dark:bg-neutral-700","p-1",3,"ngModelChange","ngModel"],["class","text-sm font-normal",4,"ngIf"],["for","last_name"],["type","text","required","","id","last_name","name","last_name",1,"focus:outline-none","bg-slate-300","dark:bg-neutral-700","p-1",3,"ngModelChange","ngModel"],["for","biography"],["name","biography","id","biography","name","biografia","required","","rows","10",1,"focus:outline-none","bg-slate-300","dark:bg-neutral-700","p-1",3,"ngModelChange","ngModel"],["type","submit","class","mt-3 p-3 bg-blue-800",4,"ngIf"],["type","submit","class","mt-3 p-3 bg-yellow-800",4,"ngIf"],[1,"flex","flex-col","text-center"],[1,"text-sm","font-normal"],["type","submit",1,"mt-3","p-3","bg-blue-800"],["type","submit",1,"mt-3","p-3","bg-yellow-800"]],template:function(i,a){i&1&&(t(0,"div",1),z(1,Z2,31,12,"form",2)(2,q2,3,0,"div",3),o()),i&2&&(l(),m("ngIf",a.profile),l(),m("ngIf",!a.profile))},dependencies:[S,F,U,W,Z,G,B,q]})}return e})();var F2=e=>["/profile/edit",e];function E2(e,n){if(e&1&&(t(0,"button",13),r(1,"Modificar perfil"),o()),e&2){let c=f(2);m("routerLink",Q(1,F2,c.user.id))}}function I2(e,n){e&1&&(t(0,"button",14),r(1,"Seguir"),o())}function T2(e,n){if(e&1&&(t(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),r(5),o(),t(6,"h4",5),r(7),o(),t(8,"h5",6),r(9),V1(10,"date"),o()(),z(11,E2,2,3,"button",7)(12,I2,2,0,"button",8),o(),t(13,"div"),p(14,"img",9),o()(),t(15,"div",10)(16,"div")(17,"h3",11),r(18,"Biograf\xEDa"),o(),t(19,"p",12),r(20),o()()()()),e&2){let c=f();l(5),x1("",c.user.profile.name," ",c.user.profile.last_name,""),l(2),k(c.user.email),l(2),R("Unido en: ",L1(10,8,c.user.created_at),""),l(2),m("ngIf",c.isCurrentUser),l(),m("ngIf",!c.isCurrentUser&&c.isLogged),l(2),m("src",c.getResourceFromServer(c.user.profile.profile_photo),I),l(6),k(c.user.profile.biography)}}function P2(e,n){e&1&&(t(0,"div")(1,"p"),r(2,"Este usuario a\xFAn no ha creado su perfil p\xFAblico, espera a que termine su creaci\xF3n de perfil"),o()())}function D2(e,n){e&1&&p(0,"app-notfound")}var X1=(()=>{class e{userService;route;loginService;constructor(c,i,a){this.userService=c,this.route=i,this.loginService=a}user=null;isCurrentUser=!1;notFound=!0;isLogged=!1;ngOnInit(){let c=this.route.snapshot.params.id;this.userService.getUser(c).subscribe({next:i=>{this.user=i,this.loginService.matchWithUserLogged(i)?this.isCurrentUser=!0:this.isCurrentUser=!1,this.loginService.isAutenticated()?this.isLogged=!0:this.isLogged=!1},error:i=>{switch(i.status){case 404:this.notFound=!1;break;default:break}}})}getResourceFromServer(c){if(c){let i=L.getUrlServer();return L.getUrlResourceFromServer(i,c)}return""}static \u0275fac=function(i){return new(i||e)(h(e1),h($),h(b))};static \u0275cmp=u({type:e,selectors:[["app-view-profile"]],decls:4,vars:3,consts:[[4,"ngIf"],[1,"p-12","flex","justify-between","bg-blue-950"],[1,"flex","flex-col","items-center","justify-center"],[1,"flex","flex-col","gap-y-2"],[1,"font-black","text-5xl"],[1,"w-full","text-start","text-3xl"],[1,"w-full","text-start","text-xl"],["class","bg-green-600 p-2 mt-7 w-full",3,"routerLink",4,"ngIf"],["class","bg-sky-600 p-2 mt-7 w-full",4,"ngIf"],["alt","",1,"w-40","rounded-full",3,"src"],[1,"p-3"],[1,"text-4xl","font-semibold"],[1,"text-2xl","font-normal","whitespace-pre","p-5"],[1,"bg-green-600","p-2","mt-7","w-full",3,"routerLink"],[1,"bg-sky-600","p-2","mt-7","w-full"]],template:function(i,a){i&1&&(t(0,"div"),z(1,T2,21,10,"div",0)(2,P2,3,0,"div",0)(3,D2,1,0,"app-notfound",0),o()),i&2&&(l(),m("ngIf",a.user&&a.user.profile),l(),m("ngIf",!a.user||!a.user.profile),l(),m("ngIf",!a.notFound))},dependencies:[S,j,c1,S1]})}return e})();var R2=[{path:"",component:O1},{path:"login",component:J1},{path:"profile/view/:id",component:X1},{path:"createacount",component:Y1},{path:"createprofile",canActivate:[Y],component:f1},{path:"profile/edit/:id",canActivate:[Y],component:f1},{path:"admin",canActivate:[Y],loadChildren:()=>import("./chunk-2JZDSBSM.js").then(e=>e.AdministracionModule)},{path:"user",children:[{path:"modify/:id",component:B1}]},{path:"**",component:c1}],K1=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=K({type:e});static \u0275inj=X({imports:[r1.forRoot(R2),r1]})}return e})();var U2=()=>[""],W2=()=>["login"],B2=()=>["admin/index"],G2=e=>["/profile/view",e],O2=()=>["/createprofile"];function J2(e,n){e&1&&(t(0,"ul",7)(1,"li")(2,"a",8),r(3,"Iniciar sesi\xF3n"),o()(),t(4,"li"),r(5,"Acerca de..."),o()()),e&2&&(l(2),m("routerLink",T(1,W2)))}function Y2(e,n){if(e&1&&p(0,"fa-icon",14),e&2){let c=f(2);m("icon",c.faCaredDown)}}function X2(e,n){if(e&1&&p(0,"fa-icon",14),e&2){let c=f(2);m("icon",c.faCaredUp)}}function K2(e,n){e&1&&(t(0,"a",8),r(1,"Administraci\xF3n"),o()),e&2&&m("routerLink",T(1,B2))}function Q2(e,n){if(e&1&&(t(0,"a",8),r(1,"Visualizar perfil"),o()),e&2){let c=f(3);m("routerLink",Q(1,G2,c.actualUser==null?null:c.actualUser.id))}}function $2(e,n){e&1&&(t(0,"a",8),r(1,"Crear perfil"),o()),e&2&&m("routerLink",T(1,O2))}function c3(e,n){if(e&1){let c=A();t(0,"div",15),z(1,K2,2,2,"a",16)(2,Q2,2,3,"a",16)(3,$2,2,2,"a",16),t(4,"li",17),N("click",function(){C(c);let a=f(2);return d(a.deslogear())}),r(5,"Cerrar sesi\xF3n"),o()()}if(e&2){let c=f(2);m("@fadeInOut",void 0),l(),m("ngIf",c.findPermission("admin_access")),l(),m("ngIf",c.actualUser==null?null:c.actualUser.profile),l(),m("ngIf",!(c.actualUser!=null&&c.actualUser.profile))}}function e3(e,n){if(e&1){let c=A();t(0,"ul",7)(1,"li",9)(2,"p",10),N("click",function(){C(c);let a=f();return d(a.showMenu())}),p(3,"img",11),t(4,"span"),r(5),o(),z(6,Y2,1,1,"fa-icon",12)(7,X2,1,1,"fa-icon",12),o(),z(8,c3,6,4,"div",13),o(),t(9,"li"),r(10,"Acerca de..."),o()()}if(e&2){let c=f();l(3),m("src",c.getImageFromServer(c.actualUser==null||c.actualUser.profile==null?null:c.actualUser.profile.profile_photo),I),l(2),k(c.actualUser==null?null:c.actualUser.name),l(),m("ngIf",c.menuVisible==!1),l(),m("ngIf",c.menuVisible==!0),l(),m("ngIf",c.menuVisible)}}var Q1=(()=>{class e{loginService;toastService;csrf;router;constructor(c,i,a,s){this.loginService=c,this.toastService=i,this.csrf=a,this.router=s}faCaredDown=U1;faCaredUp=j1;role="";logeado;actualUser;userPermissions;menuVisible=!1;deslogear(){this.loginService.logout().subscribe({next:c=>{c.status=="ok"&&(this.logeado=!1,this.loginService.clearSession(),this.csrf.getCsrfToken(),this.toastService.warning(c.message),this.router.navigate([""]))},error:c=>{this.toastService.error(`Ha ocurrido un error al llevar a cabo esta acci\xF3n: ${c.status}`)}})}showMenu(){this.menuVisible?this.menuVisible=!1:this.menuVisible=!0}getImageFromServer(c){if(c){let i=L.getUrlServer();return L.getUrlResourceFromServer(i,c)}return""}findPermission(c){return L.findPermission(c,this.userPermissions)}static \u0275fac=function(i){return new(i||e)(h(b),h(_),h(w),h(y))};static \u0275cmp=u({type:e,selectors:[["app-header"]],inputs:{logeado:"logeado",actualUser:"actualUser",userPermissions:"userPermissions"},decls:11,vars:4,consts:[[1,"bg-slate-300","dark:bg-black","text-black","dark:text-white","flex","justify-between","pt-2","pb-2"],[1,"flex","flex-col","items-center","p-3",3,"routerLink"],[1,"text-3xl","w-full"],[1,"font-black"],[1,"font-light","text-xl"],[1,"flex","items-center","pr-3","ol-3"],["class","flex justify-between gap-6 text-xl font-normal",4,"ngIf"],[1,"flex","justify-between","gap-6","text-xl","font-normal"],[3,"routerLink"],[1,"cursor-pointer"],[1,"flex","gap-x-4",3,"click"],["alt","",1,"w-8","rounded-full",3,"src"],[3,"icon",4,"ngIf"],["class","absolute bg-slate-300 dark:bg-black z-10 flex flex-col",4,"ngIf"],[3,"icon"],[1,"absolute","bg-slate-300","dark:bg-black","z-10","flex","flex-col"],[3,"routerLink",4,"ngIf"],[1,"text-red-500","cursor-pointer",3,"click"]],template:function(i,a){i&1&&(t(0,"header",0)(1,"a",1)(2,"p",2),r(3,"Jhon"),t(4,"span",3),r(5,"Blog"),o()(),t(6,"p",4),r(7,"Tu sitio de inter\xE9s"),o()(),t(8,"nav",5),z(9,J2,6,2,"ul",6)(10,e3,11,5,"ul",6),o()()),i&2&&(l(),m("routerLink",T(3,U2)),l(8),m("ngIf",a.logeado==!1),l(),m("ngIf",a.logeado==!0))},dependencies:[S,j,a1],data:{animation:[Z1("fadeInOut",[E1("void",F1({opacity:0})),I1(":enter, :leave",[q1(300)])])]}})}return e})();var $1={prefix:"fab",iconName:"x-twitter",icon:[512,512,[],"e61b","M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"]};var c2={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]};var e2={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"]};var a2={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};var i2=(()=>{class e{faFacebook=e2;faInstagram=c2;faGithub=a2;faXTwitter=$1;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=u({type:e,selectors:[["app-footer"]],decls:39,vars:4,consts:[[1,"bg-slate-200","dark:bg-black/50","pt-20"],[1,"flex","justify-between","pl-3","pr-3"],[1,"uppercase","font-bold","text-3xl"],[1,"font-semibold","text-2xl"],[1,"flex","flex-col"],[1,"flex","gap-x-3"],["href",""],[1,"text-3xl","hover:text-blue-500",3,"icon"],[1,"text-3xl","hover:text-rose-500",3,"icon"],[1,"text-3xl",3,"icon"],["action","",1,"flex","flex-col","mt-3","gap-y-2"],["name","","id","","placeholder","Tu opinion",1,"text-black","focus:outline-none","pl-2","pr-2"],["type","email","name","","id","","placeholder","T\xFA correo electr\xF3nico",1,"text-black","focus:outline-none","p-2"],["type","submit",1,"bg-green-400","p-3","rounded-sm"],[1,"mt-10"]],template:function(i,a){i&1&&(t(0,"footer",0)(1,"div",1)(2,"div")(3,"p",2),r(4,"jhonblog"),o(),t(5,"p"),r(6,"Un sitio hecho por y para programadores"),o()(),t(7,"div")(8,"p",3),r(9,"Explora"),o(),t(10,"div",4)(11,"a"),r(12,"Acerca de"),o(),t(13,"a"),r(14,"Mi historia"),o(),t(15,"a"),r(16,"Mis proyectos"),o()()(),t(17,"div")(18,"p",3),r(19,"S\xEDgueme en:"),o(),t(20,"div",5)(21,"a",6),p(22,"fa-icon",7),o(),t(23,"a",6),p(24,"fa-icon",8),o(),t(25,"a",6),p(26,"fa-icon",9),o(),t(27,"a",6),p(28,"fa-icon",9),o()()(),t(29,"div")(30,"p",3),r(31,"\xBFTienes alguna opini\xF3n?"),o(),t(32,"form",10),p(33,"textarea",11)(34,"input",12),t(35,"button",13),r(36,"Enviar"),o()()()(),t(37,"p",14),r(38,"2024 Todos los derechos reservados."),o()()),i&2&&(l(22),m("icon",a.faFacebook),l(2),m("icon",a.faInstagram),l(2),m("icon",a.faGithub),l(2),m("icon",a.faXTwitter))},dependencies:[a1,F,Z,q]})}return e})();var o2=(()=>{class e{csrfService;loginService;toastService;title="jhonblog-frontend";logeado=!1;user=null;permissions=null;constructor(c,i,a){this.csrfService=c,this.loginService=i,this.toastService=a}ngOnInit(){this.csrfService.getCsrfToken(),this.loginService.userLogged$.subscribe({next:c=>{c!=null?(this.logeado=this.loginService.isAutenticated(),this.user=c):(this.logeado=!1,this.user=null)}}),this.loginService.userPermissions$.subscribe({next:c=>{this.permissions=c},error:c=>{this.toastService.error(`Ha ocurrido un error al obtener los datos de los permisos desde login.service -> userPermissions$ ${c.message}`)}})}ngOnDestroy(){this.csrfService.tokenActual=""}static \u0275fac=function(i){return new(i||e)(h(w),h(b),h(_))};static \u0275cmp=u({type:e,selectors:[["app-root"]],decls:4,vars:3,consts:[[3,"logeado","actualUser","userPermissions"],[1,"relative"]],template:function(i,a){i&1&&(p(0,"app-header",0),t(1,"div",1),p(2,"router-outlet"),o(),p(3,"app-footer")),i&2&&m("logeado",a.logeado)("actualUser",a.user)("userPermissions",a.permissions)},dependencies:[D1,Q1,i2]})}return e})();var o3="@",t3=(()=>{let n=class n{constructor(i,a,s,v,M){this.doc=i,this.delegate=a,this.zone=s,this.animationType=v,this.moduleImpl=M,this._rendererFactoryPromise=null,this.scheduler=p1(u1,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-DH76YQIG.js").then(a=>a)).catch(a=>{throw new h1(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:s})=>{this._engine=a(this.animationType,this.doc);let v=new s(this.delegate,this._engine,this.zone);return this.delegate=v,v})}createRenderer(i,a){let s=this.delegate.createRenderer(i,a);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let v=new z1(s);return a?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(M=>{let l1=M.createRenderer(i,a);v.use(l1),this.scheduler?.notify(9)}).catch(M=>{v.use(s)}),v}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};n.\u0275fac=function(a){M1()},n.\u0275prov=P({token:n,factory:n.\u0275fac});let e=n;return e})(),z1=class{constructor(n){this.delegate=n,this.replay=[],this.\u0275type=1}use(n){if(this.delegate=n,this.replay!==null){for(let c of this.replay)c(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,c){return this.delegate.createElement(n,c)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,c){this.delegate.appendChild(n,c)}insertBefore(n,c,i,a){this.delegate.insertBefore(n,c,i,a)}removeChild(n,c,i){this.delegate.removeChild(n,c,i)}selectRootElement(n,c){return this.delegate.selectRootElement(n,c)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,c,i,a){this.delegate.setAttribute(n,c,i,a)}removeAttribute(n,c,i){this.delegate.removeAttribute(n,c,i)}addClass(n,c){this.delegate.addClass(n,c)}removeClass(n,c){this.delegate.removeClass(n,c)}setStyle(n,c,i,a){this.delegate.setStyle(n,c,i,a)}removeStyle(n,c,i){this.delegate.removeStyle(n,c,i)}setProperty(n,c,i){this.shouldReplay(c)&&this.replay.push(a=>a.setProperty(n,c,i)),this.delegate.setProperty(n,c,i)}setValue(n,c){this.delegate.setValue(n,c)}listen(n,c,i){return this.shouldReplay(c)&&this.replay.push(a=>a.listen(n,c,i)),this.delegate.listen(n,c,i)}shouldReplay(n){return this.replay!==null&&n.startsWith(o3)}};function t2(e="animations"){return H1("NgAsyncAnimations"),v1([{provide:b1,useFactory:(n,c,i)=>new t3(n,c,i,e),deps:[g1,w1,C1]},{provide:d1,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var n2=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=K({type:e,bootstrap:[o2]});static \u0275inj=X({providers:[w,y1(),t2(),b,Y,n1],imports:[k1,K1,W1,G1,T1.forRoot({timeOut:1e4,positionClass:"toast-bottom-right"}),P1.forRoot({provideSwal:()=>import("./chunk-NPBJGPN4.js").then(({default:c})=>c.mixin({confirmButtonText:"Confirmar",cancelButtonText:"Cancelar",animation:!1}))}),R1]})}return e})();A1().bootstrapModule(n2,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
